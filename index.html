<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Video Downloader</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }                   
    body { 
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); 
      min-height: 100vh; 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      padding: 20px; 
      color: #fff; 
    }
    
    .container { 
      width: 100%; 
      max-width: 800px; 
      background: rgba(255, 255, 255, 0.1); 
      backdrop-filter: blur(10px); 
      border-radius: 15px; 
      padding: 30px; 
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); 
      margin-top: 20px; 
      flex: 1;
    }
    
    header { text-align: center; margin-bottom: 30px; }
    header h1 { font-size: 2.5rem; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); }
    header p { color: rgba(255, 255, 255, 0.8); font-size: 1.1rem; }
    .logo { font-size: 3rem; color: #ff0000; margin-bottom: 15px; }
    
    .input-group { 
      display: flex; 
      margin-bottom: 25px; 
      position: relative; 
      flex-wrap: wrap;
    }
    
    #url-input { 
      flex: 1; 
      padding: 15px 20px; 
      border: none; 
      border-radius: 50px 0 0 50px; 
      font-size: 1rem; 
      background: rgba(255, 255, 255, 0.9); 
      outline: none; 
      min-width: 200px;
    }
    
    .paste-btn { 
      padding: 15px; 
      background: #6c757d; 
      color: white; 
      border: none; 
      cursor: pointer; 
      transition: background 0.3s; 
    }
    
    .paste-btn:hover { background: #5a6268; }
    
    #search-btn { 
      padding: 15px 25px; 
      background: #dc3545; 
      color: white; 
      border: none; 
      border-radius: 0 50px 50px 0; 
      cursor: pointer; 
      transition: background 0.3s; 
      font-weight: bold; 
    }
    
    #search-btn:hover { background: #c82333; }
    
    .video-info { 
      background: rgba(0, 0, 0, 0.2); 
      padding: 20px; 
      border-radius: 10px; 
      margin-bottom: 25px; 
      text-align: center; 
    }
    
    #video-title { font-size: 1.4rem; margin-bottom: 15px; }
    .thumbnail { 
      width: 100%; 
      max-width: 400px; 
      border-radius: 10px; 
      margin: 0 auto 15px; 
      display: block; 
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
    }
    
    .download-options { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      gap: 20px; 
    }
    
    .option-card { 
      background: rgba(255, 255, 255, 0.1); 
      border-radius: 10px; 
      padding: 20px; 
      text-align: center; 
    }
    
    .option-card h3 { 
      margin-bottom: 15px; 
      font-size: 1.2rem; 
      color: #ffcc00; 
    }
    
    .dropdown { 
      position: relative; 
      display: inline-block; 
      width: 100%; 
    }
    
    .dropbtn { 
      width: 100%; 
      padding: 12px 20px; 
      background: #28a745; 
      color: white; 
      border: none; 
      border-radius: 5px; 
      cursor: pointer; 
      font-weight: bold; 
      transition: background 0.3s; 
    }
    
    .dropbtn:hover { background: #218838; }
    
    .dropdown-content { 
      display: none; 
      position: absolute; 
      background-color: rgba(255, 255, 255, 0.95); 
      min-width: 100%; 
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2); 
      z-index: 1; 
      border-radius: 5px; 
      max-height: 200px; 
      overflow-y: auto; 
      color: #333; 
    }
    
    .dropdown-content a { 
      color: #333; 
      padding: 12px 16px; 
      text-decoration: none; 
      display: block; 
      transition: background 0.2s; 
    }
    
    .dropdown-content a:hover { background-color: #f1f1f1; }
    .show { display: block; }
    
    .download-btn { 
      margin-top: 15px; 
      padding: 12px 20px; 
      width: 100%; 
      background: #007bff; 
      color: white; 
      border: none; 
      border-radius: 5px; 
      cursor: pointer; 
      font-weight: bold; 
      transition: background 0.3s; 
    }
    
    .download-btn:hover { background: #0069d9; }
    
    .loading { 
      display: none; 
      text-align: center; 
      margin: 20px 0; 
    }
    
    .loading-spinner { 
      border: 4px solid rgba(255, 255, 255, 0.3); 
      border-radius: 50%; 
      border-top: 4px solid #fff; 
      width: 40px; 
      height: 40px; 
      animation: spin 1s linear infinite; 
      margin: 0 auto; 
    }
    
    @keyframes spin { 
      0% { transform: rotate(0deg); } 
      100% { transform: rotate(360deg); } 
    }

    /* Progress Bar */
    #progress-container { 
      display:none; 
      margin:20px 0; 
      text-align:center; 
    }
    
    #progress-bar { 
      height:20px; 
      width:0%; 
      background:#00ff7f; 
      border-radius:10px; 
      transition: width 0.3s; 
    }
    
    #progress-box { 
      background:#444; 
      border-radius:10px; 
      width:100%; 
      max-width:400px; 
      margin:10px auto; 
    }
    
    #progress-text { 
      margin-top:10px; 
      font-weight:bold; 
    }
    
    /* Footer Styles */
    footer { 
      width: 100%;
      max-width: 1200px;
      margin-top: 40px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      text-align: center;
    }
    
    .footer-content {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .footer-section {
      flex: 1;
      min-width: 250px;
      padding: 10px;
    }
    
    .footer-section h3 {
      margin-bottom: 15px;
      color: #ffcc00;
      font-size: 1.3rem;
    }
    
    .footer-section p, .footer-section a {
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 10px;
      display: block;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .footer-section a:hover {
      color: #ffcc00;
    }
    
    .contact-icons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
    }
    
    .contact-icons a {
      display: inline-block;
      color: white;
      background: rgba(255, 255, 255, 0.2);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      text-align: center;
      line-height: 40px;
      transition: all 0.3s;
    }
    
    .contact-icons a:hover {
      background: #ff0000;
      transform: translateY(-5px);
    }
    
    .copyright {
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9rem;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .download-options { 
        grid-template-columns: 1fr; 
      } 
      
      .container { 
        padding: 20px; 
      } 
      
      header h1 { 
        font-size: 2rem; 
      }
      
      .input-group {
        flex-direction: column;
      }
      
      #url-input {
        border-radius: 50px;
        margin-bottom: 10px;
      }
      
      .paste-btn {
        border-radius: 50px;
        margin-bottom: 10px;
      }
      
      #search-btn {
        border-radius: 50px;
      }
      
      .footer-section {
        text-align: center;
      }
    }
    
    @media (max-width: 480px) {
      header h1 {
        font-size: 1.8rem;
      }
      
      header p {
        font-size: 1rem;
      }
      
      .option-card {
        padding: 15px;
      }
      
      .footer-section {
        min-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo"><i class="fab fa-youtube"></i></div>
      <h1>YouTube Video Downloader</h1>
      <p>Download your favorite YouTube videos in high quality</p>
    </header>

    <div class="input-group">
      <input type="text" id="url-input" placeholder="Paste YouTube link here">
      <button class="paste-btn" id="paste-btn"><i class="fas fa-paste"></i></button>
      <button id="search-btn"><i class="fas fa-search"></i> Search</button>
    </div>

    <div class="loading" id="loading">
      <div class="loading-spinner"></div>
      <p>Fetching video information...</p>
    </div>

    <!-- Progress -->
    <div id="progress-container">
      <p id="progress-text">Starting download...</p>
      <div id="progress-box">
        <div id="progress-bar"></div>
      </div>
    </div>

    <div class="video-info" id="video-info" style="display: none;">
      <h2 id="video-title"></h2>
      <img src="" class="thumbnail" id="video-thumbnail" alt="Video thumbnail"> 

      <div class="download-options">
        <div class="option-card">
          <h3>Video Downloads</h3>
          <div class="dropdown">
            <button class="dropbtn" id="video-dropbtn"><i class="fas fa-video"></i> Select Video Quality</button>
            <div class="dropdown-content" id="video-dropdown-content"></div>
          </div>
        </div>

        <div class="option-card">
          <h3>Audio Downloads</h3>
          <div class="dropdown">
            <button class="dropbtn" id="audio-dropbtn"><i class="fas fa-music"></i> Select Audio Quality</button>
            <div class="dropdown-content" id="audio-dropdown-content"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer with Contact Information -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>About Us</h3>
        <p>We provide the fastest and most reliable YouTube video downloading service. Download your favorite videos in various formats and qualities.</p>
      </div>
      
      <div class="footer-section">
        <h3>Contact Us</h3>
        <p><i class="fas fa-envelope"></i> Email: madankumar14112005@gmail.com</p>
        <p><i class="fas fa-phone"></i> Phone: +1 (926) 424-9570</p>
        <p><i class="fas fa-map-marker-alt"></i> Address: 123 Internet Street, Web City</p>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="#">Home</a>
        <a href="#">How to Use</a>
        <a href="#">FAQ</a>
        <a href="#">Terms of Service</a>
        <a href="#">Privacy Policy</a>
      </div>
    </div>
    
    <div class="contact-icons">
      <a href="https://www.facebook.com/share/1A5SGnQWXV/"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="https://www.instagram.com/reel/DND2ryHPQ9S/?igsh=MWVucDRkcnY2dWE3aA=="><i class="fab fa-instagram"></i></a>
      <a href="https://youtube.com/@aiseekhoi?si=FXDY-UOoMnRwxEf6"><i class="fab fa-youtube"></i></a>
      <a href="https://www.linkedin.com/in/madan-kumar-58192530a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"><i class="fab fa-linkedin-in"></i></a>
    </div>
    
    <div class="copyright">
      <p>© 2025 Professional YouTube Downloader | Supports MP4, WEBM, 3GP formats</p>
    </div>
  </footer>

  <script>
    const ytUrl = document.getElementById('url-input');
    const searchBtn = document.getElementById('search-btn');
    const pasteBtn = document.getElementById('paste-btn');
    const videoDropdown = document.getElementById('video-dropdown-content');
    const audioDropdown = document.getElementById('audio-dropdown-content');
    const videoTitle = document.getElementById('video-title');
    const videoThumbnail = document.getElementById('video-thumbnail');
    const videoInfo = document.getElementById('video-info');
    const loading = document.getElementById('loading');
    const videoDropBtn = document.getElementById('video-dropbtn');
    const audioDropBtn = document.getElementById('audio-dropbtn');

    let selectedFormat = null;

    // Paste button
    pasteBtn.onclick = async () => {
      try {
        ytUrl.value = await navigator.clipboard.readText();
      } catch (e) { alert("Clipboard access denied."); }
    };

    // Fetch formats
    searchBtn.onclick = async () => {
      let url = ytUrl.value.trim();
      if (!url) { alert("Link jaruri hai."); return; }

      loading.style.display = 'block';
      videoInfo.style.display = 'none';

      let res = await fetch('https://youtube-download-production-d37b.up.railway.app/formats', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ url })
      });

      let data = await res.json();
      loading.style.display = 'none';

      if (data.error) { alert(data.error); return; }

      videoTitle.innerText = data.title;
      videoThumbnail.src = data.thumbnail;
      videoInfo.style.display = 'block';

      // Video options
      videoDropdown.innerHTML = "";
      data.formats.filter(f => f.height).forEach(f => {
        let txt = `${f.height}p ${f.ext}`;
        let a = document.createElement('a');
        a.href = "#";
        a.innerText = txt;
        a.onclick = (e) => { e.preventDefault(); selectedFormat = f.format_id; downloadFile(url, selectedFormat, "video"); };
        videoDropdown.appendChild(a);
      });

      // Audio options
      audioDropdown.innerHTML = "";
      data.formats.filter(f => f.abr).forEach(f => {
        let txt = `${f.abr} kbps ${f.ext}`;
        let a = document.createElement('a');
        a.href = "#";
        a.innerText = txt;
        a.onclick = (e) => { e.preventDefault(); selectedFormat = f.format_id; downloadFile(url, selectedFormat, "audio"); };
        audioDropdown.appendChild(a);
      });
    };

    // Dropdown toggle
    videoDropBtn.onclick = () => { videoDropdown.classList.toggle('show'); };
    audioDropBtn.onclick = () => { audioDropdown.classList.toggle('show'); };

    window.onclick = (e) => {
      if (!e.target.matches('.dropbtn')) {
        document.querySelectorAll('.dropdown-content').forEach(dd => dd.classList.remove('show'));
      }
    };

    // Download with progress + popup
    async function downloadFile(url, formatId, type) {
      const progressContainer = document.getElementById("progress-container");
      const progressBar = document.getElementById("progress-bar");
      const progressText = document.getElementById("progress-text");

      progressContainer.style.display = "block";
      progressBar.style.width = "0%";
      progressText.innerText = "Starting download...";

      let res = await fetch("https://youtube-download-production-d37b.up.railway.app/download", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ url, format_id: formatId })
      });

      if (!res.ok) { 
        alert("Download failed"); 
        progressContainer.style.display = "none";
        return; 
      }

      const reader = res.body.getReader();
      const contentLength = +res.headers.get("Content-Length");
      let receivedLength = 0;
      let chunks = [];

      while (true) {
        const {done, value} = await reader.read();
        if (done) break;
        chunks.push(value);
        receivedLength += value.length;
        let percent = Math.floor((receivedLength / contentLength) * 100);
        progressBar.style.width = percent + "%";
        progressText.innerText = `Downloading... ${percent}%`;
      }

      // Combine chunks
      let blob = new Blob(chunks);
      let link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = type === "video" ? "video.mp4" : "audio.mp3";
      link.click();

      progressText.innerText = "Download complete!";
      //alert("✅ Download finished successfully!");
      setTimeout(() => window.location.reload(), 2000); // Refresh after 2 sec
    }
  </script>
</body>

</html>






